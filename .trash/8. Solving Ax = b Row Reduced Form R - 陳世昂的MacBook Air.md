在上一節我們說了$Ax=0$的解的方法，這節將會說明$Ax=b$的所有解，以及$b$是如何影響解的答案。

# 可解性（Solvability）
在之前說到一個矩陣不可能隨時都有解，下面舉個例子，並說明有解與沒有解情況。

$$\begin{bmatrix}
1&2&2&2\\
2&4&6&8\\
3&6&8&10\\
\end{bmatrix}
\begin{bmatrix}
x_1\\x_2\\x_3\\x_4\\
\end{bmatrix}=
\begin{bmatrix}
1\\5\\6\\
\end{bmatrix}$$
我們消元一下矩陣。
$$
\left[
\begin{array}{cccc|c}
1&2&2&2&b_1\\
2&4&6&8&b_2\\
3&6&8&10&b_3\\
\end{array}
\right]
\longrightarrow
\left[
\begin{array}{cccc|c}
1&2&2&2&b_1\\
0&0&2&4&b_2-2b_1\\
0&0&0&0&b_3-b_2-b_1
\end{array}
\right]$$
因此當$b_3-b_2-b_1=0$被滿足時，這矩陣就有解。而這樣的運算結果所代表的意思是，矩陣中行三一定是行二與行一的線性組合。（$b_3=b_2+b_1$）

# 通解
通解代表的是能滿足$Ax=b$的所有解，不過這邊有個特別的地方，通解不像是$Ax=0$的解一樣，跟舉幾個自由變量，就會有幾條通過原點的線，而是會形成一個不通過原點的子空間。

:::info
這邊應該畫圖。
:::

先說一下通解的形成，**通解 = 矩陣的零空間+特解**。看到這邊你一定會很納悶，為啥都看不懂，接下來我們重新整理一下思路。以下矩陣$A$都會這個來舉例。
$$A=\begin{bmatrix}
1&2&2&2\\
2&4&6&8\\
3&6&8&10\\
\end{bmatrix}=
\begin{bmatrix}
1&2&2&2\\
0&0&2&4\\
0&0&0&0
\end{bmatrix}$$
## $Ax=0$
這個的幾何意思代表的是，如果今天有一個零向量（也就是向量等於原點），那有多少組解能滿足零向量，這個我們在上一章節有說過，有幾個自由變數，就會形成幾條特解，特解的數幾倍就可以形成直線，或者說這些特解的線性組合就能形成一個子空間。

這邊我們省略零空間的計算，直接給你看特解，如果想知道特解怎麼計算的話，建議看上一節。常數$c,d$代表的是數倍的意思，
$$x=
c\begin{bmatrix}
-2\\1\\0\\0
\end{bmatrix}+
d\begin{bmatrix}
2\\0\\-2\\1
\end{bmatrix}$$
這個代表的是矩陣A所形成的零空間。此時你會看到他在$R^4$向量空間中形成一個平面。
:::info
畫一張零空間的圖
:::

## $Ax=b$
根據上面所提到的零空間，他會形成一個平面，不過如果我想要這個平面向著$x_1$軸移動 1 個單位距離和在$x_3$軸移動$\frac{3}{2}$的距離呢？很簡單罵，像這樣。
$$x=\begin{bmatrix}
1\\0\\\frac{3}{2}\\0
\end{bmatrix}+
c\begin{bmatrix}
-2\\1\\0\\0
\end{bmatrix}+
d\begin{bmatrix}
2\\0\\-2\\1
\end{bmatrix}$$
不過這是一個舉例，會讓你在等等的說明中，更能想像幾何空間中的樣子。

在$Ax=b$中，幾何空間代表著矩陣$A$要如何線性組合才能得到向量Ｂ，假設是這個例子。
$$\begin{bmatrix}
1&2&2&2\\
0&0&2&4\\
0&0&0&0
\end{bmatrix}
\begin{bmatrix}
x_1\\x_2\\x_3\\x_4\\
\end{bmatrix}=
\begin{bmatrix}
1\\3\\0\\
\end{bmatrix}$$
此刻你令所有的自由變數為0，就會得到一組解。因為只有去除掉自由變數，才能知道該平面移動的多少。
$$\begin{gathered}
x_1+2x_2 = 1\\
2x_3=3
\end{gathered}$$
化成參數解的樣子。
$$x=\begin{bmatrix}
1\\0\\\frac{3}{2}\\0
\end{bmatrix}$$
此時我們重新把零空間加回來。此時這個就是$Ax=b$的所有解了，只不過要注意的是她並不在是一個子空間了，因為不通過原點。
$$x=\begin{bmatrix}
1\\0\\\frac{3}{2}\\0
\end{bmatrix}+
c\begin{bmatrix}
-2\\1\\0\\0
\end{bmatrix}+
d\begin{bmatrix}
2\\0\\-2\\1
\end{bmatrix}$$
:::info
畫圖！！！
:::

如果你想要看代數的證明方法的話，如下。$x_s$代表$Ax_s=b$情況下的解。$x_z$代表$Ax_z=0$情況下的解。
$$\begin{gathered}
Ax_s=b\\
Ax_z=0\\
\end{gathered}$$
$$\begin{gathered}
Ax_s+Ax_z&=&b+0\\
=>A(x_s+x_z)&=&b
\end{gathered}$$
# 秩
接下來我們將討論秩與矩陣長度m, n的關係。

在一個 $m\times n$的矩陣當中，其中的解的數量代表就是我們所說的 秩（rack），此我們取首字母 r 當作代號。

### 列滿秩
---
此指的是 $n==r$ 的情況，消元之後會變成這樣。
![[Pasted image 20231022203100.png]]

$$\begin{bmatrix}
1&0\\
0&1\\
0&0\\
0&0
\end{bmatrix}$$

因此我們可以得到一個結論是，矩陣最終會化成這樣的形式。
$$\begin{bmatrix}
I\\0
\end{bmatrix}$$
此時在$Ax=b$的情況中，根據向量Ｂ的不同，只會有兩種情況。
- 有解且唯一
- 無解，因為不在A的空間中。

### 行滿秩
---
此情況指的是 $m==r$ ，因此消元之後成這樣。
![[Pasted image 20231022204421.png]]
$$\begin{bmatrix}
1&0&0&0\\
0&1&0&0
\end{bmatrix}$$

因此我們可以得到一個結論是，矩陣最終會化成這樣的形式。不過這邊的$I,F$都只是示意而已，因為他們可能會交替出現。（$I$代表單位矩陣，$F$代表其他部分）
$$\begin{bmatrix}
I&F
\end{bmatrix}$$
以下是根據不同情況會變成這樣。就是剛剛提到的交替出現。
$$
\begin{bmatrix}
1&0&0&0\\
0&0&1&0
\end{bmatrix}
$$
此時在$Ax=b$的情況中，只會有一種情況。
- 出現無限多組解。這個原因在這節稍早出現過，不過我們再解釋一次原因，跟$Ax=0$一樣，解一對會有一個基底所組成，不過很不同的是在$Ax=b$中，出現了對向量 $b$ 沒有貢獻的 $x$ 解。因此才會有無限多組解的情況。

### 列行皆滿秩
---
此情況指的是 $m==r$ && $n==r$，因此消元之後成這樣。
![[Pasted image 20231022205542.png]]
$$\begin{bmatrix}
1&0\\
0&1\\
\end{bmatrix}$$
在$Ax=b$中只會洽有一組解。
$$\begin{bmatrix}
I
\end{bmatrix}$$

### 行列皆不滿秩
此情況指的是 $m < r$ && $n < r$，因此消元之後成這樣。
$$\begin{bmatrix}
I&F\\
0&0\\
\end{bmatrix}$$
而在$Ax=b$中，根據向量Ｂ的不同會有兩種情況。
- 無限多組解（特解＋零空間的所有向量）
- 無解（因為零行所造成的條件）


# 總結
你可以根據上面的特征，初步判斷$Ax=b$的可能情況。