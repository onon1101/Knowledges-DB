首先這一節完善了上一節所說的內容，並開始講解消元矩陣與LU分解。即將矩陣Ａ分解為矩陣Ｌ與上三角的矩陣Ｕ。最後引入行列交換的規律。

### 逆矩陣補充
首先假設矩陣Ａ和矩陣Ｂ都是可逆的，那麼你有沒有想過當AB矩陣相乘的逆矩陣會是什麼。
$$A\times A^{-1} = I$$
$$(AB)(B^{-1}A^{-1})=I$$
從上述可以觀察到，當AB矩陣乘上$B^{-1}A^{-1}$時，就變會變成單位矩陣，因此他就是AB的單位矩陣。當然我們也可以將其左右交換，畢竟他是逆矩陣的特性。
$$(B^{-1}A^{-1})(AB)=I$$
### 轉置矩陣與逆矩陣的關係

這邊我們來說一下轉置矩陣的定義。將原本的列轉為行，或者將行轉換成列，這個就是轉至矩陣的定義。你可以發現他是沿著對角線翻轉。
$$A=\begin{bmatrix}
1&3\\
2&3\\
1&4\\
\end{bmatrix}
$$
$$A^T=\begin{bmatrix}
1&2&1\\
3&3&4
\end{bmatrix}$$

我們先套用逆矩陣的例子。
$$AA^{-1}=I$$
那麼其實轉置矩陣也是一樣。只不過當$I$單位矩陣翻轉後$I^T$，還是和單位矩陣一樣，保持原樣，因此我們可以在將運算結果寫回$I$
$$(AA^{-1})^T=I^T=I$$
那如果我們把括號裡面拆開來會等於什麼樣子呢。
$$(A^{-1})^TA^T=I$$
這邊涉及到一個問題是，什麼將括號內的運算拆開來後，矩陣的乘法順序會顛倒，畢竟我們知道，矩陣的運算在順序上是非常嚴格的。其實這是因為矩陣運算的特性。

:::info
這邊要補充
:::

## ALU
首先我們可以將一個矩陣Ａ變成一個下三角矩陣Ｕ以及上三角矩陣Ｌ。

假設有一個矩陣Ａ他可逆。
$$A=\begin{bmatrix}
2&1\\
8&7
\end{bmatrix}$$
那麼我們想要變成行二減去四倍的行一並放到行二裡面，如下面的這樣。這樣我們稱為$E_{21}A=U$

$$E_{21}A=U$$
$$\begin{bmatrix}
1&0\\
-4&1
\end{bmatrix}
\begin{bmatrix}
2&1\\
8&7\\
\end{bmatrix}=
\begin{bmatrix}
2&1\\
0&3
\end{bmatrix}$$

不過通常我們會把$M$搬去運算的右邊，這樣對於未來會比較好運算。這邊的運算對於學過逆矩陣的你應該很簡單，用行列式的運算就可以得出他的逆矩陣。現在你可以看得出來說為什麼他被稱為$A=LU$。$L$代表 "Lower triangular matrix（下三角矩陣）"，$U$代表 "upper triangular matrix（上三角矩陣）"。

$$A=LU$$
$$
\begin{bmatrix}
2&1\\
8&7\\
\end{bmatrix}=
\begin{bmatrix}
1&0\\
4&1
\end{bmatrix}
\begin{bmatrix}
2&1\\
0&3
\end{bmatrix}$$

不過有的時候我們會把$U$矩陣的裡面在提純一點，將矩陣裡面只剩下主元。此時我們稱為$A=LDU$，$D$代表 "Diagonal matrix（對角矩陣）"
$$\begin{bmatrix}
2&1\\
8&7\\
\end{bmatrix}=
\begin{bmatrix}
1&0\\
4&1
\end{bmatrix}
\begin{bmatrix}
2&0\\
0&3
\end{bmatrix}
\begin{bmatrix}
1&\frac{1}{2}\\
0&1
\end{bmatrix}$$
### 3\*3 矩陣
假設今天有個矩陣Ａ要轉變成下三角矩陣Ｕ，那麼他需要經過什麼樣子的步驟（沒有行交換），首先是行一減行二，再來是行二減行三，再來行一減行三。寫成下面的算式會變成。
$$E_{31}E_{32}E_{21}A=U$$
但是通常我們會將運算操作的矩陣移項到等號的右邊。因此，會轉成逆矩陣，此時，那一串操作的逆矩陣我們就將他統稱為 $L$。

$$
\begin{gathered}
A=E_{21}^{-1}E_{32}^{-1}E_{31}^{-1}U\\
\downarrow \\
A=LU
\end{gathered}$$
下面我們詳細解釋一下，為什麼會需要將矩陣的形式寫成 $A=LU$ ，而不是 $MA=U$ 的形式。
$$EA=U$$
$$\begin{bmatrix}
1&0&0\\
0&1&0\\
0&-5&1
\end{bmatrix}
\begin{bmatrix}
1&0&0\\
-2&1&0\\
0&0&1
\end{bmatrix}=
\begin{bmatrix}
1&0&0\\
-2&1&0\\
\color{red}10&-5&1
\end{bmatrix}(E_{32}E_{21})$$
你可以看到在運算的時候，我們多出了一個元素 $10$，這對於以前手算的數學家來說是一個致命的打擊，畢竟我需要多計算一個元素對矩陣的影響，因此接下來我們想探討為什麼會有這個元素的出現。

我們來討論上面矩陣的意義。在$E^{21}$中代表的是 一倍的行一減去兩倍的行二並放到行二，然後再計算 $E^{32}$ 一倍的行三減去五倍的新行二放到行三，因此原本的行二又被多運算了一次，顯然這不是我們想要的。為了解決這個問題，我們會更改他們的運算順序，讓行二並不會再次被乘上倍數。

:::info
這邊也需要畫圖，並且有時間需要更改上面的敘述。改成"為什麼行一影響到了行三。"
:::

現在來計算逆矩陣的運算。此時因為避開了重複運算的步驟，因此相較上面少了一個元素 10。
$$A=LU$$
$$\begin{bmatrix}
1&0&0\\
2&1&0\\
0&0&1\\
\end{bmatrix}
\begin{bmatrix}
1&0&0\\
0&1&0\\
0&5&1\\
\end{bmatrix}=
\begin{bmatrix}
1&0&0\\
2&1&0\\
0&5&1\\
\end{bmatrix}$$

## 矩陣運算的複雜度
一個矩陣從開始到結束的步驟數會是多少，這將影響我們估算矩陣運算完成的時間。因此假設我們一個100 \* 100 的矩陣，當他們進行消元運算之後會變成 99 \* 99 的元素需要運算。我們定義一次矩陣的運算為乘法與減法，所以經過一次運算之後，所變動的元素就是我們運算的次數。
$$\begin{bmatrix}
\color{yellow}......\\
......\\
......
\end{bmatrix}
\longrightarrow
\begin{bmatrix}
\color{yellow}......\\
\_.....\\
\__.....
\end{bmatrix}$$
第一次：$100\times 100$（其實應該是$99\times 100$，因為第一行沒有參與運算，不過寫這樣是為了後續計算方便。）
第二次：$99\times 99$
第三次：$98\times 98$
.
.
.
最後一次：$1\times 1$

總之他的運算規律是遞減的，將其且做方程式為......
$$n^2+(n-1)^2+(n-2)^2+(n-3)^2...3^2+2^2+1^2$$
這邊我們可以使用微積分的技巧，因為他是在連續的函數求和的工具。
$$\int n^2 = \frac{1}{3}n^3$$
你學過演算法複雜度就會知道常數通常會去掉，因此我們會稱為矩陣運算的複雜度為......
$$O(n^3)$$


## 轉置矩陣
之前我們學過當矩陣進行行交換的時候，除了可以直接進行行交換外，也可以乘上單位矩陣$I$的對應方式進行行交換。那麼問題是所有行交換的單位矩陣變化有多少種，下面是$3\times 3$矩陣的所有置換矩陣的可能。
$$
\begin{bmatrix}
1&0&0\\
0&1&0\\
0&0&1\\
\end{bmatrix}
\begin{bmatrix}
1&0&0\\
0&0&1\\
0&1&0\\
\end{bmatrix}
\begin{bmatrix}
0&0&1\\
0&1&0\\
1&0&0\\
\end{bmatrix}
$$
$$\begin{bmatrix}
0&1&0\\
0&0&1\\
1&0&0\\
\end{bmatrix}
\begin{bmatrix}
0&1&0\\
1&0&0\\
0&0&1\\
\end{bmatrix}
\begin{bmatrix}
0&0&1\\
1&0&0\\
0&1&0\\
\end{bmatrix}$$
而這個矩陣群很特別，因為任意兩兩矩陣相乘都會是矩陣群的其中一種。以上是三階矩陣的大小，那麼如果是四階矩陣的話，會有幾種矩陣的可能。（24種）

> 推广到 n 阶矩阵，n 阶矩阵有 n！个置换矩阵，就是将单位矩阵 I各行重
新排列后所有可能的情况数量。我自己的理解是：单看第一行，有 n种排列方式，
再看除去第一行，第一列的(n-1)阶矩阵，再看其第一行，有(n-1)种排列方式。
以此类推，直到最后的 1 阶，有 1 种排列方式，由乘法原理，就有了 n!个置换
矩阵。
